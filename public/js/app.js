"use strict";$(function(){function e(){f.addClass("hidden"),m.removeClass("hidden"),y.prop("disabled",!1),k.prop("disabled",!1),o()}function n(){f.removeClass("hidden"),u.addClass("hidden"),v.addClass("hidden"),y.prop("disabled",!1),k.prop("disabled",!1),o(),shuffle(questionBank)}function o(){S=questionBank[J],15===J?(f.addClass("hidden"),v.addClass("hidden"),m.addClass("hidden"),u.removeClass("hidden"),J=0):(h.html(S.question),q.html(S.answers[0]),I.html(S.answers[1]),M.html(S.answers[2]),B.html(S.answers[3]),J++)}function d(e){var n=questionBank[Q];j.html(n.correctIndex[Q]),S.correctIndex===$(e.target).index()?(console.log("working!"),o()):(console.log("you died"),f.addClass("hidden"),v.removeClass("hidden"),m.addClass("hidden"),J=0)}function s(){g.removeClass("hidden"),m.addClass("hidden")}function t(){var e=S.answers[S.correctIndex];g.addClass("hidden"),m.removeClass("hidden"),alert(e),y.prop("disabled",!0)}function i(){C.removeClass("hidden"),m.addClass("hidden"),x.html(S.answers[S.fiftyfifty[0]]),w.html(S.answers[S.fiftyfifty[1]]),console.log(S.fiftyfifty[0]),console.log(S.fiftyfifty[1])}function a(e){S.fiftyIndex===$(e.target).index("button.jerry")?(console.log("you live"),console.log(S.correctIndex),console.log($(e.target)),console.log($(e.target).index()),m.removeClass("hidden"),C.addClass("hidden"),o(),k.prop("disabled",!0)):(console.log("you died"),console.log(S.fiftyIndex),console.log($(e.target)),console.log($(e.target).index()),v.removeClass("hidden"),C.addClass("hidden"),J=0)}function l(){function e(){var e=[Math.random(),Math.random(),Math.random(),Math.random()],n=e.reduce(function(e,n){return e+n});return e.map(function(e){return Math.round(e/n*100)})}p.removeClass("hidden"),m.addClass("hidden");for(var n=e(),o=n.reduce(function(e,n){return e+n});100!==o;)n=e(),o=n.reduce(function(e,n){return e+n});console.log("After loop",n,o);var d=$(".bar"),s=$(".results li");n.forEach(function(e,n){d.eq(n).css("height",e+"%"),s.eq(n).text(e+"%")})}console.log("JS loaded!");var r=$(".start-button"),c=$(".reset-button"),h=$(".currentQ"),f=$("#start"),u=$("#well-done"),m=$("#game-board"),g=$("#meeseeks-box"),C=$("#fifty-fifty"),p=$("#council"),v=$("#game-over"),y=$(".choice1"),k=$(".choice2"),b=$(".choice3"),x=$("#choice1"),w=$("#choice2"),q=$(".option1"),I=$(".option2"),M=$(".option3"),B=$(".option4"),j=$(".answer"),A=$(".meeseseeksButton"),E=$(".jerry"),J=0,Q=0,S=null;r.on("click",e),j.on("click",d),y.on("click",s),A.on("click",t),k.on("click",i),E.on("click",a),b.on("click",l),c.on("click",n)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwic3RhcnRHYW1lIiwiJGluc3RydWN0aW9ucyIsImFkZENsYXNzIiwiJGdhbWVCb2FyZCIsInJlbW92ZUNsYXNzIiwiJGNob2ljZTEiLCJwcm9wIiwiJGNob2ljZTIiLCJzaG93UXVlc3Rpb24iLCJyZXN0YXJ0R2FtZSIsIiR3ZWxsRG9uZSIsIiRnYW1lT3ZlciIsInNodWZmbGUiLCJxdWVzdGlvbkJhbmsiLCJxdWVzdGlvbk9iamVjdCIsInF1ZXN0aW9uSW5kZXgiLCIkcXVlc3Rpb25Cb3giLCJodG1sIiwicXVlc3Rpb24iLCIkYnV0dG9uMiIsImFuc3dlcnMiLCIkYnV0dG9uMyIsIiRidXR0b240IiwiSXNJdGNvcnJlY3QiLCJyaWdodEluZGV4IiwiJGJ1dHRvbnMiLCJjb3JyZWN0SW5kZXgiLCJjb25zb2xlIiwiZSIsInRhcmdldCIsImluZGV4IiwibG9nIiwiaGVscGVyT25lIiwiJHBob25lRnJpZW5kIiwibXJNZWVzZWVrcyIsImFsZXJ0IiwiY29ycmVjdEFuc3dlciIsImhlbHBlclR3byIsIiRqZXJyeTIiLCIkamVycnkxIiwiZmlmdHlmaWZ0eSIsImNoZWNrRmlmdHlGaWZ0eSIsIiRqZXJyaWZpZWQiLCJmaWZ0eUluZGV4IiwiaGVscGVyVGhyZWUiLCJnZW5lcmF0ZVBlcmNlbnRhZ2VzIiwicGVyY2VudGFnZXMiLCJNYXRoIiwicmFuZG9tIiwidG90YWwiLCJyZWR1Y2UiLCJwZXJjZW50YWdlIiwiYSIsImIiLCJtYXAiLCJyb3VuZCIsIiRhc2tBdWRpZW5jZSIsImFza1RoZUF1ZGllbmNlIiwidG90YWxQZXJjZW50YWdlcyIsIiRyZXN1bHRzIiwiJGJhcnMiLCJlcSIsImNzcyIsImZvckVhY2giLCIkc3RhcnRCdXR0b24iLCIkcmVzZXRCdXR0b24iLCIkY2hvaWNlMyIsIiRidXR0b24xIiwiJG1lZXNlc2Vla3NCdXR0b24iLCIkZHVtYkRvd24iLCJvbiIsImNoZWNrQnV0dG9ucyJdLCJtYXBwaW5ncyI6IllB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RUFBQStELEdBQUEsUUFBQWpDLEdBQ0FnQyxFQUFVQyxHQUFHLFFBQVM3QixHQUV0QnlCLEVBQVNJLEdBQUcsUUFBUzFCLEdBMU12QnFCLEVBQUFLLEdBQUEsUUFBQTdEIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIG1ha2luZyBjaGFuZ2VzIGZvciBpbml0aWFsIGNvbW1pdFxuJCgoKSA9PiB7XG4gIGNvbnNvbGUubG9nKCdKUyBsb2FkZWQhJyk7XG5cblxuICBjb25zdCAkc3RhcnRCdXR0b24gPSAkKCcuc3RhcnQtYnV0dG9uJyk7XG4gIGNvbnN0ICRyZXNldEJ1dHRvbiA9ICQoJy5yZXNldC1idXR0b24nKTtcbiAgY29uc3QgJHF1ZXN0aW9uQm94ID0gJCgnLmN1cnJlbnRRJyk7XG5cbiAgY29uc3QgJGluc3RydWN0aW9ucyA9ICQoJyNzdGFydCcpO1xuICBjb25zdCAkd2VsbERvbmUgPSAkKCcjd2VsbC1kb25lJyk7XG4gIGNvbnN0ICRnYW1lQm9hcmQgPSAkKCcjZ2FtZS1ib2FyZCcpO1xuICBjb25zdCAkcGhvbmVGcmllbmQgPSAkKCcjbWVlc2Vla3MtYm94Jyk7XG4gIGNvbnN0ICRqZXJyaWZpZWQgPSAkKCcjZmlmdHktZmlmdHknKTtcbiAgY29uc3QgJGFza0F1ZGllbmNlID0gJCgnI2NvdW5jaWwnKTtcbiAgY29uc3QgJGdhbWVPdmVyID0gJCgnI2dhbWUtb3ZlcicpO1xuXG4gIGNvbnN0ICRjaG9pY2UxID0gJCgnLmNob2ljZTEnKTtcbiAgY29uc3QgJGNob2ljZTIgPSAkKCcuY2hvaWNlMicpO1xuICBjb25zdCAkY2hvaWNlMyA9ICQoJy5jaG9pY2UzJyk7XG4gIGNvbnN0ICRqZXJyeTEgPSAkKCcjY2hvaWNlMScpO1xuICBjb25zdCAkamVycnkyID0gJCgnI2Nob2ljZTInKTtcblxuXG4gIGNvbnN0ICRidXR0b24xID0gJCgnLm9wdGlvbjEnKTtcbiAgY29uc3QgJGJ1dHRvbjIgPSAkKCcub3B0aW9uMicpO1xuICBjb25zdCAkYnV0dG9uMyA9ICQoJy5vcHRpb24zJyk7XG4gIGNvbnN0ICRidXR0b240ID0gJCgnLm9wdGlvbjQnKTtcbiAgY29uc3QgJGJ1dHRvbnMgPSAkKCcuYW5zd2VyJyk7XG4gIGNvbnN0ICRtZWVzZXNlZWtzQnV0dG9uID0gJCgnLm1lZXNlc2Vla3NCdXR0b24nKTtcbiAgY29uc3QgJGR1bWJEb3duID0gJCgnLmplcnJ5Jyk7XG4gIGxldCBxdWVzdGlvbkluZGV4ID0gMDtcbiAgY29uc3QgcmlnaHRJbmRleCA9IDA7XG5cbiAgbGV0IHF1ZXN0aW9uT2JqZWN0ID0gbnVsbDtcblxuICBmdW5jdGlvbiBzdGFydEdhbWUoKSB7XG4gICAgJGluc3RydWN0aW9ucy5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgJGdhbWVCb2FyZC5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG4gICAgJGNob2ljZTEucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XG4gICAgJGNob2ljZTIucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XG4gICAgc2hvd1F1ZXN0aW9uKCk7XG4gIH1cblxuICBmdW5jdGlvbiByZXN0YXJ0R2FtZSgpe1xuICAgICRpbnN0cnVjdGlvbnMucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuICAgICR3ZWxsRG9uZS5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgJGdhbWVPdmVyLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAkY2hvaWNlMS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcbiAgICAkY2hvaWNlMi5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcbiAgICBzaG93UXVlc3Rpb24oKTtcbiAgICBzaHVmZmxlKHF1ZXN0aW9uQmFuayk7XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3dRdWVzdGlvbigpIHtcbiAgICBxdWVzdGlvbk9iamVjdCA9IHF1ZXN0aW9uQmFua1txdWVzdGlvbkluZGV4XTtcblxuICAgIC8vIGlmIHRoZSBudW1iZXIgb2YgcXVlc3Rpb25zIGluZGV4ID0gMTUgLSBzZW5kcyB1c2VyIHRvIHdlbGwgZG9uZSBzY3JlZW5cbiAgICBpZiAocXVlc3Rpb25JbmRleCA9PT0gMTUpe1xuICAgICAgJGluc3RydWN0aW9ucy5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgICAkZ2FtZU92ZXIuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgJGdhbWVCb2FyZC5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgICAkd2VsbERvbmUucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgcXVlc3Rpb25JbmRleCA9IDA7XG4gICAgICAvLyBlbHNlIGl0IGNhcnJ5cyBvbiB0aGUgZ2FtZVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyAgYWRkcyBxdWVzdGlvbiBwcm9wZXJ0eSB0byB0aGUgcXVlc3Rpb24gYm94XG4gICAgICAkcXVlc3Rpb25Cb3guaHRtbChxdWVzdGlvbk9iamVjdC5xdWVzdGlvbik7XG4gICAgICAvLyBhbmQgYWRkcyBhbnN3ZXIgYXJyYXkgZWxlbWVudHMgdG8gdGhlIGJ1dHRvbnNcbiAgICAgICRidXR0b24xLmh0bWwocXVlc3Rpb25PYmplY3QuYW5zd2Vyc1swXSk7XG4gICAgICAkYnV0dG9uMi5odG1sKHF1ZXN0aW9uT2JqZWN0LmFuc3dlcnNbMV0pO1xuICAgICAgJGJ1dHRvbjMuaHRtbChxdWVzdGlvbk9iamVjdC5hbnN3ZXJzWzJdKTtcbiAgICAgICRidXR0b240Lmh0bWwocXVlc3Rpb25PYmplY3QuYW5zd2Vyc1szXSk7XG4gICAgICBxdWVzdGlvbkluZGV4ICsrO1xuICAgIH1cbiAgfVxuXG4gIC8vIHRoaXMgZnVuY3Rpb24gY2hlY2tzIHRoZSBpbmRleCBvZiB0aGUgYnV0dG9uIGNsaWNrZWQgd2l0aCB0aGUgaW5kZXggb2YgdGhlIGFuc3dlcnMgYXJyYXkgYW5kIGNvbXBhcmVzIHRoZW0uIElmIHRoZXkgYXJlIHRoZSBzYW1lIGl0IHJ1bnMgdGhlIG5leHQgcXVlc3Rpb24uIElmIG5vdCB0aGVuIGl0IHRha2VzIHRoZSB1c2VyIHRvIHRoZSBnYW1lIG92ZXIgc2NyZWVuLlxuICBmdW5jdGlvbiBjaGVja0J1dHRvbnMgKGUpe1xuICAgIGNvbnN0IElzSXRjb3JyZWN0ID0gcXVlc3Rpb25CYW5rW3JpZ2h0SW5kZXhdO1xuICAgIC8vIHB1c2hlcyB0aGUgcXVlc3Rpb25zIGZyb20gdGhlIHF1ZXN0aW9uIGFycmF5IGludG8gdGhlIGJ1dHRvbnNcbiAgICAkYnV0dG9ucy5odG1sKElzSXRjb3JyZWN0LmNvcnJlY3RJbmRleFtyaWdodEluZGV4XSk7XG5cbiAgICAvLyBjb21wYXJlcyBidXR0b24gaW5kZXggdG8gdGhlIGluZGV4IG9mIGNvcnJlY3QgcXVlc3Rpb24gLSBpZiB0aGUgc2FtZSA9IG5leHQgcXVlc3Rpb25cbiAgICBpZiAocXVlc3Rpb25PYmplY3QuY29ycmVjdEluZGV4ID09PSAkKGUudGFyZ2V0KS5pbmRleCgpKXtcbiAgICAgIGNvbnNvbGUubG9nKCd3b3JraW5nIScpO1xuXG5cbiAgICAgIHNob3dRdWVzdGlvbigpO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKCd5b3UgZGllZCcpO1xuICAgICAgJGluc3RydWN0aW9ucy5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgICAkZ2FtZU92ZXIucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgJGdhbWVCb2FyZC5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgICBxdWVzdGlvbkluZGV4ID0gMDtcbiAgICB9XG5cbiAgfVxuXG4gIC8vIGdhbWVib2FyZCBoaWRkZW4gcGhvbmUgYSBmcmllbmQgdW5oaWRkZW5cbiAgZnVuY3Rpb24gaGVscGVyT25lICgpe1xuICAgICRwaG9uZUZyaWVuZC5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG4gICAgJGdhbWVCb2FyZC5hZGRDbGFzcygnaGlkZGVuJyk7XG4gIH1cblxuICAvLyBmdW5jdGlvbiBhbGVydHMgY29ycmVjdCBhbnN3ZXIgYW5kIHRoZW4gc2VuZHMgdXNlciBiYWNrIHRvIGdhbWVib2FyZCAtIGJ1dHRvbiBkaXNiYWxlZCBhZnRlciB1c2VcbiAgZnVuY3Rpb24gbXJNZWVzZWVrcygpe1xuICAgIGNvbnN0IGNvcnJlY3RBbnN3ZXIgPSBxdWVzdGlvbk9iamVjdC5hbnN3ZXJzW3F1ZXN0aW9uT2JqZWN0LmNvcnJlY3RJbmRleF07XG4gICAgJHBob25lRnJpZW5kLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAkZ2FtZUJvYXJkLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgICBhbGVydChjb3JyZWN0QW5zd2VyKTtcbiAgICAkY2hvaWNlMS5wcm9wKCdkaXNhYmxlZCcsIHRydWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gaGVscGVyVHdvKCl7XG5cbiAgICAkamVycmlmaWVkLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgICAkZ2FtZUJvYXJkLmFkZENsYXNzKCdoaWRkZW4nKTtcblxuICAgICRqZXJyeTEuaHRtbChxdWVzdGlvbk9iamVjdC5hbnN3ZXJzW3F1ZXN0aW9uT2JqZWN0LmZpZnR5ZmlmdHlbMF1dKTtcbiAgICAkamVycnkyLmh0bWwocXVlc3Rpb25PYmplY3QuYW5zd2Vyc1txdWVzdGlvbk9iamVjdC5maWZ0eWZpZnR5WzFdXSk7XG4gICAgY29uc29sZS5sb2cocXVlc3Rpb25PYmplY3QuZmlmdHlmaWZ0eVswXSk7XG4gICAgY29uc29sZS5sb2cocXVlc3Rpb25PYmplY3QuZmlmdHlmaWZ0eVsxXSk7XG4gIH1cblxuICBmdW5jdGlvbiBjaGVja0ZpZnR5RmlmdHkgKGUpe1xuXG4gICAgaWYgKHF1ZXN0aW9uT2JqZWN0LmZpZnR5SW5kZXggPT09ICQoZS50YXJnZXQpLmluZGV4KCdidXR0b24uamVycnknKSl7XG4gICAgICAvLyBxdWVzdGlvbkluZGV4ICsrO1xuXG4gICAgICBjb25zb2xlLmxvZygneW91IGxpdmUnKTtcbiAgICAgIGNvbnNvbGUubG9nKHF1ZXN0aW9uT2JqZWN0LmNvcnJlY3RJbmRleCk7XG4gICAgICBjb25zb2xlLmxvZygkKGUudGFyZ2V0KSk7XG4gICAgICBjb25zb2xlLmxvZygkKGUudGFyZ2V0KS5pbmRleCgpKTtcbiAgICAgICRnYW1lQm9hcmQucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgJGplcnJpZmllZC5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgICBzaG93UXVlc3Rpb24oKTtcbiAgICAgICRjaG9pY2UyLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKCd5b3UgZGllZCcpO1xuICAgICAgY29uc29sZS5sb2cocXVlc3Rpb25PYmplY3QuZmlmdHlJbmRleCk7XG4gICAgICBjb25zb2xlLmxvZygkKGUudGFyZ2V0KSk7XG4gICAgICBjb25zb2xlLmxvZygkKGUudGFyZ2V0KS5pbmRleCgpKTtcbiAgICAgICRnYW1lT3Zlci5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG4gICAgICAkamVycmlmaWVkLmFkZENsYXNzKCdoaWRkZW4nKTtcblxuICAgICAgcXVlc3Rpb25JbmRleCA9IDA7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGVscGVyVGhyZWUgKCkge1xuICAgICRhc2tBdWRpZW5jZS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG4gICAgJGdhbWVCb2FyZC5hZGRDbGFzcygnaGlkZGVuJyk7XG5cbiAgICBmdW5jdGlvbiBnZW5lcmF0ZVBlcmNlbnRhZ2VzKCkge1xuICAgICAgY29uc3QgcGVyY2VudGFnZXMgPSBbTWF0aC5yYW5kb20oKSwgTWF0aC5yYW5kb20oKSwgTWF0aC5yYW5kb20oKSwgTWF0aC5yYW5kb20oKV07XG4gICAgICBjb25zdCB0b3RhbCA9IHBlcmNlbnRhZ2VzLnJlZHVjZSgoYSwgYikgPT4gYSArIGIpO1xuXG4gICAgICByZXR1cm4gcGVyY2VudGFnZXMubWFwKChwZXJjZW50YWdlKSA9PiB7XG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKChwZXJjZW50YWdlIC8gdG90YWwpICogMTAwKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGxldCBhc2tUaGVBdWRpZW5jZSA9IGdlbmVyYXRlUGVyY2VudGFnZXMoKTtcbiAgICBsZXQgdG90YWxQZXJjZW50YWdlcyA9IGFza1RoZUF1ZGllbmNlLnJlZHVjZSgoYSwgYikgPT4gYSArIGIpO1xuXG4gICAgd2hpbGUodG90YWxQZXJjZW50YWdlcyAhPT0gMTAwKSB7XG4gICAgICBhc2tUaGVBdWRpZW5jZSA9IGdlbmVyYXRlUGVyY2VudGFnZXMoKTtcbiAgICAgIHRvdGFsUGVyY2VudGFnZXMgPSBhc2tUaGVBdWRpZW5jZS5yZWR1Y2UoKGEsIGIpID0+IGEgKyBiKTtcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZygnQWZ0ZXIgbG9vcCcsIGFza1RoZUF1ZGllbmNlLCB0b3RhbFBlcmNlbnRhZ2VzKTtcblxuICAgIGNvbnN0ICRiYXJzID0gJCgnLmJhcicpO1xuICAgIGNvbnN0ICRyZXN1bHRzID0gJCgnLnJlc3VsdHMgbGknKTtcblxuICAgIGFza1RoZUF1ZGllbmNlLmZvckVhY2goKHBlcmNlbnRhZ2UsIGluZGV4KSA9PiB7XG4gICAgICAkYmFycy5lcShpbmRleCkuY3NzKCdoZWlnaHQnLCBgJHtwZXJjZW50YWdlfSVgKTtcbiAgICAgICRyZXN1bHRzLmVxKGluZGV4KS50ZXh0KGAke3BlcmNlbnRhZ2V9JWApO1xuICAgIH0pO1xuXG4gIH1cblxuXG5cbiAgLy8gY2xpY2sgc3RhcnQgYnV0dG9uIC0gc3RhcnRzIG5ldyBnYW1lXG4gICRzdGFydEJ1dHRvbi5vbignY2xpY2snLCBzdGFydEdhbWUpO1xuXG4gIC8vIHdoZW4gb25lIG9mIHRoZSBjaG9pY2UgYnV0dG9ucyBpcyBjbGlja2VkIC0gY2hlY2sgaWYgYnV0dG9uIGNvbnRhaW5pbmcgY29ycmVjdCBhbnN3ZXIgaXMgY2xpY2tlZFxuICAkYnV0dG9ucy5vbignY2xpY2snLCBjaGVja0J1dHRvbnMpO1xuICAvLyB3aGVuIGhlbHBlcjEgYnV0dG9uKHBob25lIGEgZnJpZW5kKSBpcyBjbGlja2VkIC0gcnVuIE1yIE1lZXNlZWtzXG5cbiAgJGNob2ljZTEub24oJ2NsaWNrJywgaGVscGVyT25lKTtcbiAgLy8gaWYgY2FuIGRvIGJ1dHRvbiBpcyBjbGlja2VkIC0gcnVuIG1yIG1lZXNlZWtzIGZ1bmN0aW9uIGFuZCBmaW5kIG91dCB0aGUgYW5zd2VyXG4gICRtZWVzZXNlZWtzQnV0dG9uLm9uKCdjbGljaycsIG1yTWVlc2Vla3MpO1xuXG4gIC8vaWYgaGVscGVyMiBidXR0b24oNTA6NTApIGlzIGNsaWNrZWQgcnVuIGZpZnR5ZmlmdHkgZnVuY3Rpb25cbiAgJGNob2ljZTIub24oJ2NsaWNrJywgaGVscGVyVHdvKTtcbiAgLy8gaWYgZmlmdHkgZmlmdHkgYnV0dG9uIGlzIGNsaWNrZWQgLSBydW4gY2hlY2sgZmlmdHkgZmlmdHlcbiAgJGR1bWJEb3duLm9uKCdjbGljaycsIGNoZWNrRmlmdHlGaWZ0eSk7XG5cbiAgJGNob2ljZTMub24oJ2NsaWNrJywgaGVscGVyVGhyZWUpO1xuXG4gIC8vIHJlc3RhcnRzIHRoZSBnYW1lIGFuZCBzaHVmZmxlcyB0aGUgcXVlc3Rpb25zXG4gICRyZXNldEJ1dHRvbi5vbignY2xpY2snLCByZXN0YXJ0R2FtZSk7XG5cblxufSk7XG4iXX0=
